# JWT json web token

## Learning goals :

- What is `JWT` ?

- How `JWT` working ?

- Where should `JWT` saved in frontend ?

- What should saved in the TOKEN from `JWT` ?

- what is mean `Baerer` Token and if `Baerer` word mendatory to use ?

## Resources :

- [JWT docs](https://jwt.io/)

- [JWT in 2 minutes (Video)](https://www.youtube.com/watch?v=7ozQLeFJpqs)

- [JWT Explained (Video)](https://www.youtube.com/watch?v=7Q17ubqLfaM)

## Answer the questions :

### What is JWT ?

### How `JWT` working ?

![JWT](./assets/JWT.png)

---

Super Fragen! Lass uns das Thema **JWT (JSON Web Token)** gemeinsam durchgehen â€“ Schritt fÃ¼r Schritt, klar und strukturiert. Ziel: Du **verstehst**, **nutzt**, und **speicherst** JWTs sicher im MERN Stack. âœ…

---

## ğŸ”‘ Was ist JWT?

**JWT (JSON Web Token)** ist ein **digitaler Token**, der verwendet wird, um **Benutzerauthentifizierung** und **Autorisierung** in modernen Webanwendungen sicher zu verwalten.

> Ein JWT ist wie ein digitaler Ausweis â€“ man trÃ¤gt ihn bei sich (z.â€¯B. im Browser) und zeigt ihn dem Server bei jeder Anfrage.

---

## ğŸ› ï¸ Wie funktioniert JWT?

JWT besteht aus **3 Teilen** (alle Base64-codiert, durch Punkte getrennt):

```
HEADER.PAYLOAD.SIGNATURE
```

### ğŸ”¹ 1. Header

```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

### ğŸ”¹ 2. Payload (Daten im Token)

```json
{
  "userId": "abc123",
  "role": "admin",
  "exp": 1690000000
}
```

â¡ï¸ Hier speicherst du **nicht sensible Daten**, z.â€¯B.:

* User-ID
* Rolle
* Name (optional)
* Token-GÃ¼ltigkeit (`exp`)

### ğŸ”¹ 3. Signature

Vom Server generiert, um sicherzustellen, dass der Token **nicht manipuliert** wurde.

```bash
HMACSHA256(base64UrlEncode(header) + "." + base64UrlEncode(payload), secret)
```

---

## ğŸ”„ Wie lÃ¤uft der JWT-Ablauf?

1. ğŸ‘¤ User loggt sich ein (mit E-Mail & Passwort)
2. âœ… Server prÃ¼ft Daten und erstellt JWT
3. ğŸ“© Server schickt Token zurÃ¼ck an Frontend
4. ğŸ—‚ Frontend speichert Token lokal (siehe unten)
5. ğŸŒ Bei jeder API-Request wird Token im Header gesendet:

   ```http
   Authorization: Bearer <TOKEN>
   ```
6. ğŸ” Backend verifiziert Token â†’ erlaubt oder verbietet Zugriff

---

## ğŸ“ Wo sollte man JWT im Frontend speichern?

| Option            | Sicherheit | Beschreibung                                                |
| ----------------- | ---------- | ----------------------------------------------------------- |
| `localStorage`    | ğŸ”´ niedrig | Einfach, aber anfÃ¤llig fÃ¼r XSS                              |
| `sessionStorage`  | ğŸŸ¡ mittel  | Nur bis Tab geschlossen                                     |
| `httpOnly Cookie` | âœ… hoch     | Server-setzt Cookie, JS kann nicht lesen (sicher gegen XSS) |

> ğŸ§  Empfohlen: **httpOnly Cookies** fÃ¼r mehr Sicherheit
> **localStorage nur verwenden**, wenn du volle Kontrolle Ã¼ber XSS hast â€“ z.â€¯B. bei reinen SPAs.

---

## ğŸ§  Was sollte NICHT im JWT gespeichert werden?

âŒ Keine sensiblen Infos wie:

* PasswÃ¶rter
* Adressen
* Zahlungsdaten
* Private API-SchlÃ¼ssel

âœ… Nur Dinge, die du clientseitig brauchst zur Anzeige oder Identifikation

---

## ğŸ·ï¸ Was ist ein `Bearer` Token?

Das ist ein **Standard im HTTP-Header**, um dem Server zu zeigen:
â€Ich habe einen gÃ¼ltigen Zugangstoken.â€œ

```http
Authorization: Bearer <TOKEN>
```

### â›” Ist `Bearer` Pflicht?

* **Nicht technisch erforderlich**, aber **dringend empfohlen**
* Die meisten Backend-Libraries (z.â€¯B. `passport-jwt`, `express-jwt`) **erwarten** das Format:

```js
req.headers.authorization = "Bearer eyJhbGciOiJIUzI1NiIsInR..."
```

---

## âœ… Zusammenfassung

| Frage                | Antwort                                                                                              |
| -------------------- | ---------------------------------------------------------------------------------------------------- |
| Was ist JWT?         | Sicherer Auth-Token in JSON-Format                                                                   |
| Wie funktioniert es? | Besteht aus Header, Payload, Signature â€“ verifiziert durch Server                                    |
| Wo speichern?        | Am sichersten: **httpOnly Cookies**; alternativ: `localStorage` (nicht empfohlen bei sensiblen Apps) |
| Was speichern?       | Nur nicht-sensible Infos: userId, role, etc.                                                         |
| Ist "Bearer" nÃ¶tig?  | Ja, **empfohlen** fÃ¼r KompatibilitÃ¤t mit Middleware                                                  |

---


